<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>–ó–∞ –î–µ–Ω–∏—Ü–∞ ‚ù§Ô∏è</title>
<style>
    :root { --p: #ff0080; --s: #ff66cc; }
    
    body, html { 
        margin: 0; padding: 0; width: 100%; height: 100%; 
        overflow: hidden; background: #000; 
        font-family: -apple-system, system-ui, sans-serif;
        touch-action: none; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è–≤–∞ –∑—É–º–≤–∞–Ω–µ –ø—Ä–∏ –±—ä—Ä–∑–æ —Ü—ä–∫–∞–Ω–µ */
    }

    #canvas-container {
        position: fixed; top: 0; left: 0; width: 100%; height: 100dvh;
        background: radial-gradient(circle at center, #1a001a 0%, #000 100%);
        z-index: -1;
    }

    /* –ì–ª–∞–≤–Ω–∏—è—Ç –±—É—Ç–æ–Ω */
    #heartBtn {
        position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%);
        font-size: 110px; border: none; background: none; cursor: pointer;
        filter: drop-shadow(0 0 25px var(--p)); z-index: 100;
        -webkit-tap-highlight-color: transparent;
        animation: heartPulse 1.5s infinite ease-in-out;
    }

    @keyframes heartPulse { 
        0%, 100% { transform: translate(-50%, -50%) scale(1); filter: drop-shadow(0 0 20px var(--p)); }
        50% { transform: translate(-50%, -50%) scale(1.15); filter: drop-shadow(0 0 40px var(--s)); }
    }

    /* –¢–µ–∫—Å—Ç—ä—Ç –Ω–∞ –î–µ–Ω–∏—Ü–∞ */
    #message {
        position: absolute; top: 55%; width: 100%; text-align: center;
        font-size: 35px; font-weight: 900; opacity: 0;
        background: linear-gradient(to right, #fff, var(--s), var(--p), #fff);
        background-size: 200% auto;
        -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        transition: 1.5s ease; z-index: 110; pointer-events: none;
        text-shadow: 0 0 15px rgba(255,102,204,0.3);
    }

    .teddy { position: absolute; bottom: -120px; font-size: 90px; transition: 2.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 10; }
    
    /* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∑–∞ —á–∞—Å—Ç–∏—Ü–∏—Ç–µ */
    .particle {
        position: absolute; pointer-events: none; z-index: 200;
    }

    #hint {
        color: white; text-align: center; width: 100%; position: absolute;
        top: 15%; font-size: 20px; font-weight: 300; letter-spacing: 2px;
        animation: fadeOut 2s infinite alternate;
    }
    @keyframes fadeOut { from { opacity: 0.3; } to { opacity: 0.8; } }
</style>
</head>
<body>

<div id="canvas-container"></div>
<h2 id="hint">–î–û–ö–û–°–ù–ò –ï–ö–†–ê–ù–ê ‚ú®</h2>
<button id="heartBtn">‚ù§Ô∏è</button>
<div id="message">–û–ë–ò–ß–ê–ú –¢–ï, –î–ï–ù–ò–¶–ê! üíñ</div>

<script>
    const btn = document.getElementById('heartBtn');
    const msg = document.getElementById('message');
    const hint = document.getElementById('hint');
    const container = document.getElementById('canvas-container');

    // 1. –ï—Ñ–µ–∫—Ç "–ò—Å–∫—Ä–∏ –ø—Ä–∏ –¥–æ–∫–æ—Å–≤–∞–Ω–µ" (Magic Touch)
    document.addEventListener('touchstart', (e) => {
        const touch = e.touches[0];
        createSparks(touch.clientX, touch.clientY, '‚ú®', 5);
    });

    function createSparks(x, y, char, count) {
        for(let i=0; i<count; i++) {
            const p = document.createElement('div');
            p.className = 'particle';
            p.innerHTML = char;
            p.style.left = x + 'px';
            p.style.top = y + 'px';
            p.style.fontSize = Math.random()*20 + 10 + 'px';
            document.body.appendChild(p);
            
            const destX = (Math.random() - 0.5) * 200;
            const destY = (Math.random() - 0.5) * 200;
            
            p.animate([
                { transform: 'translate(0, 0) scale(1)', opacity: 1 },
                { transform: `translate(${destX}px, ${destY}px) scale(0)`, opacity: 0 }
            ], { duration: 1000, easing: 'ease-out' }).onfinish = () => p.remove();
        }
    }

    // 2. –ü–æ—Å—Ç–æ—è–Ω–µ–Ω —Ñ–æ–Ω –æ—Ç –ø–∞–¥–∞—â–∏ —Å—ä—Ä—Ü–∞
    setInterval(() => {
        const h = document.createElement('div');
        h.innerHTML = '‚ù§Ô∏è';
        h.className = 'particle';
        h.style.left = Math.random() * 100 + 'vw';
        h.style.top = '-50px';
        h.style.opacity = Math.random() * 0.5;
        h.style.fontSize = Math.random() * 15 + 10 + 'px';
        container.appendChild(h);
        
        h.animate([
            { transform: 'translateY(0) rotate(0deg)' },
            { transform: `translateY(110vh) rotate(${Math.random()*360}deg)` }
        ], { duration: 5000 + Math.random()*3000 }).onfinish = () => h.remove();
    }, 400);

    // 3. –û—Å–Ω–æ–≤–Ω–æ—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ
    btn.onclick = () => {
        btn.style.transform = 'translate(-50%, -50%) scale(0)';
        setTimeout(() => btn.style.display = 'none', 500);
        hint.style.display = 'none';
        
        // –ú–µ—á–µ—Ç–∞—Ç–∞ –∏–∑–ª–∏–∑–∞—Ç –ø–æ-–≤–∏—Å–æ–∫–æ
        const t1 = createT('10%');
        const t2 = createT('68%');
        setTimeout(() => { t1.style.bottom = '20%'; t2.style.bottom = '20%'; }, 100);

        // –ï–∫—Å–ø–ª–æ–∑–∏—è –æ—Ç –µ–º–æ–¥–∂–∏—Ç–∞
        let count = 0;
        const mainAction = setInterval(() => {
            spawn(['‚ù§Ô∏è','üíñ','üåπ','üíã','üíé','üß∏'][count % 6]);
            count++;
            if(count > 60) {
                clearInterval(mainAction);
                msg.style.opacity = '1';
                msg.style.transform = 'scale(1.2)';
                finalFlash();
            }
        }, 80);
    };

    function createT(x) {
        const t = document.createElement('div');
        t.className = 'teddy'; t.innerHTML = 'üß∏'; t.style.left = x;
        document.body.appendChild(t); return t;
    }

    function spawn(char) {
        const e = document.createElement('div');
        e.className = 'particle'; e.innerHTML = char;
        e.style.left = Math.random()*90+'vw'; e.style.bottom = '-50px';
        e.style.fontSize = '35px';
        document.body.appendChild(e);
        
        e.animate([
            { transform: 'translateY(0) scale(1)', opacity: 1 },
            { transform: `translateY(-110vh) rotate(${Math.random()*720}deg) scale(1.5)`, opacity: 0 }
        ], { duration: 3000 + Math.random()*2000 }).onfinish = () => e.remove();
    }

    function finalFlash() {
        for(let i=0; i<80; i++) {
            setTimeout(() => {
                createSparks(window.innerWidth/2, window.innerHeight/2.2, 'üíó', 1);
            }, i * 20);
        }
    }
</script>
</body>
</html>
