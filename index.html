<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>–ó–∞ –î–µ–Ω–∏—Ü–∞ ‚ù§Ô∏è</title>

<style>
body,html{
margin:0;
padding:0;
height:100dvh;
overflow:hidden;
background:#000;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
color:white;
touch-action:manipulation;
}

/* —Ñ–æ–Ω */
#bg{
position:fixed;
inset:0;
background:radial-gradient(circle,#330033,#000);
transition:2s;
z-index:-2;
}

/* –∑–≤–µ–∑–¥–∏ */
.star{
position:absolute;
background:white;
border-radius:50%;
opacity:.5;
}

/* —Å—ä—Ä—Ü–µ */
#heart{
position:absolute;
top:40%;
left:50%;
transform:translate(-50%,-50%);
font-size:100px;
background:none;
border:none;
cursor:pointer;
animation:beat 1.2s infinite;
}

@keyframes beat{
50%{transform:translate(-50%,-50%) scale(1.15);}
}

/* –º–µ—á–µ */
#teddy{
position:absolute;
bottom:-150px;
left:50%;
transform:translateX(-50%);
font-size:90px;
transition:1.4s cubic-bezier(.23,1,.32,1);
display:none;
cursor:pointer;
}

#hugText{
position:absolute;
top:55%;
width:100%;
text-align:center;
font-size:26px;
opacity:0;
transition:.6s;
}

/* —Ñ–∏–Ω–∞–ª–Ω–∞ —Å—Ü–µ–Ω–∞ */
#finalHeart{
position:absolute;
top:40%;
left:50%;
transform:translate(-50%,-50%) scale(0);
font-size:140px;
opacity:0;
filter:drop-shadow(0 0 40px #ff4da6);
transition:1.5s;
}

#finalText{
position:absolute;
top:60%;
width:100%;
text-align:center;
font-size:36px;
font-weight:bold;
letter-spacing:2px;
}

/* —á–∞—Å—Ç–∏—Ü–∏ */
.float{
position:absolute;
pointer-events:none;
will-change:transform,opacity;
transform:translateZ(0);
}
</style>
</head>

<body>

<div id="bg"></div>

<button id="heart">‚ù§Ô∏è</button>
<div id="teddy">üß∏</div>

<div id="hugText">–ì—É—à–Ω–∏ –ù–∏–Ω–æ –∑–∞ –¥–∞ –ø—Ä–æ–¥—ä–ª–∂–∏—à ü§ç</div>

<div id="finalHeart">üíñ</div>
<div id="finalText"></div>

<script>
const heart=document.getElementById("heart");
const teddy=document.getElementById("teddy");
const hugText=document.getElementById("hugText");
const finalHeart=document.getElementById("finalHeart");
const finalText=document.getElementById("finalText");
const bg=document.getElementById("bg");

/* –∑–≤–µ–∑–¥–∏ */
for(let i=0;i<80;i++){
let s=document.createElement("div");
s.className="star";
let size=Math.random()*2+"px";
s.style.width=size;
s.style.height=size;
s.style.left=Math.random()*100+"%";
s.style.top=Math.random()*100+"%";
document.body.appendChild(s);
}

/* –Ω–∞—Ç–∏—Å–∫–∞–Ω–µ —Å—ä—Ä—Ü–µ */
heart.onclick=()=>{
heart.animate([
{transform:"translate(-50%,-50%) scale(1)",opacity:1},
{transform:"translate(-50%,-50%) scale(2)",opacity:0}
],{duration:600});

setTimeout(()=>heart.remove(),600);

teddy.style.display="block";
setTimeout(()=>{
teddy.style.bottom="18%";
hugText.style.opacity="1";
},100);
};

/* –≥—É—à–∫–∞–Ω–µ */
teddy.onclick=()=>{
hugText.style.opacity="0";

if(navigator.vibrate){
navigator.vibrate([120,60,200]);
}

rain();

setTimeout(startFinalScene,2200);
};

/* –¥—ä–∂–¥ */
function rain(){
let c=0;
let r=setInterval(()=>{
spawn(["‚ù§Ô∏è","üíñ","‚ú®","üåπ"][Math.floor(Math.random()*4)]);
c++;
if(c>45)clearInterval(r);
},100);
}

function spawn(e){
const el=document.createElement("div");
el.innerHTML=e;
el.className="float";
el.style.left=Math.random()*90+"%";
el.style.bottom="-40px";
el.style.fontSize="26px";

const d=2+Math.random()*2;

el.animate([
{transform:"translateY(0)",opacity:1},
{transform:"translateY(-100vh) rotate(360deg)",opacity:0}
],{duration:d*1000,easing:"linear"});

document.body.appendChild(el);
setTimeout(()=>el.remove(),d*1000);
}

/* FINAL CINEMATIC */
function startFinalScene(){

bg.style.background="radial-gradient(circle,#ff4da6,#2b001a)";

finalHeart.style.opacity="1";
finalHeart.style.transform="translate(-50%,-50%) scale(1)";

typeText("–û–ë–ò–ß–ê–ú –¢–ï, –î–ï–ù–ò–¶–ê ‚ù§Ô∏è");
}

/* typing effect */
function typeText(text){
let i=0;
finalText.innerHTML="";
let typing=setInterval(()=>{
finalText.innerHTML+=text[i];
i++;
if(i>=text.length)clearInterval(typing);
},90);
}
</script>

</body>
</html>
